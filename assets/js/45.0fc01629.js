(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{400:function(a,s,t){"use strict";t.r(s);var r=t(43),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"slam移动机器人定位导航设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#slam移动机器人定位导航设计"}},[a._v("#")]),a._v(" SLAM移动机器人定位导航设计")]),a._v(" "),t("p",[a._v("移动机器人在未知的环境中进行导航时，接收来自里程计，传感器流的信息，构建工作环境的地图模型，然后再根据地图和目标位姿信息来导航、定位。")]),a._v(" "),t("h2",{attrs:{id:"一、仿真软件平台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、仿真软件平台"}},[a._v("#")]),a._v(" 一、仿真软件平台")]),a._v(" "),t("p",[a._v("操作系统：Ubuntu18.04、机器人系统Ros Melodic、\n物理仿真平台Gzebo、可视化工具rviz、深度相机乐视Astar pro、\ngmapping功能包：\n(1).基于激光雷达\n(2).Rao-Blackwellized粒子滤波算法\n(3).二维栅格地图\n(4).需要机器人提供里程计信息\n(5).OpenSlam开源算法\n(6).输出地图话题：nav_msgs/OccupancyGrid\n"),t("img",{attrs:{src:"http://m.qpic.cn/psc?/V109Om5c34AY4g/6Q9GUvwNirBpvfZFfWE*4L9.mAg70opD5LiBsk9*W.gnwVRm7a5EcXW1.*EBxGvpEch5XOQ.h8xiN4iAYs7p0Q!!/b&bo=8gL0AQAAAAADByc!&rf=viewer_4&t=5",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"二、仿真步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、仿真步骤"}},[a._v("#")]),a._v(" 二、仿真步骤")]),a._v(" "),t("h3",{attrs:{id:"_2-1-流程图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-流程图"}},[a._v("#")]),a._v(" 2.1 流程图")]),a._v(" "),t("p",[a._v("（1） 数据输入\n在ROS GMapping包中，通过astra pro深度相机获取激光和里程计数据传入openslam GMapping包中，为新一时刻的建图做准备。\n（2）构建运动模型\n根据t-1时刻的粒子位姿以及里程计数据，预测t时刻的粒子位姿，在初始值的基础上增加高斯采样的noisypoint。\n（3）扫描匹配\n对每个粒子执行扫描匹配算法，GMapping默认采用30个采样粒子。扫描匹配的作用是找到每个粒子在t时刻位姿的最佳坐标。为后面每个粒子权重更新做准备。如果此处扫描匹配失败，则粒子权重更新则采用默认的似然估计。\n（4）建议分布\n混合了运动模型和观测模型的建议分布，根据上一步扫描匹配获得的最佳坐标，围绕该坐标取若干位置样本（距离差值小于某阈值）计算均值与方差，使得当前粒子位置满足该均值方差的高斯分布。\n（5）权重计算\n对各个粒子的权重进行更新，更新之后还需进行归一化操作。注意：重采样前更新过一次，重采样后又更新过一次。\n（6）重采样\n使用Neff判断是否进行重采样（重采样频率越高，粒子退化越严重，即粒子多样性降低，导致建图精确度降低，有必要设定一个判定值改善粒子退化问题）。\n（7）粒子维护地图\n每个粒子都维护了属于自己的地图，即运动轨迹。该步骤执行的操作是更新每个粒子维护的地图。\n（8）地图更新\n在ros中进行地图更新。先得到最优的粒子（使用权重和 weightSum判断 ），得到机器人最优轨迹，地图膨胀更新。\n"),t("img",{attrs:{src:"http://m.qpic.cn/psc?/V109Om5c34AY4g/6Q9GUvwNirBpvfZFfWE*4DIW.8*dyPhmHXaRqA45kNIiwZcde9kKYCpKKt2Nld1nysTaaF*XyUiohQsNmZPJfQ!!/b&bo=OAQgBwAAAAADBzk!&rf=viewer_4",alt:""}})]),a._v(" "),t("h3",{attrs:{id:"_2-2在gazebo中仿真slam"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2在gazebo中仿真slam"}},[a._v("#")]),a._v(" 2.2在Gazebo中仿真Slam")]),a._v(" "),t("h4",{attrs:{id:"启动仿真环境："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动仿真环境："}},[a._v("#")]),a._v(" 启动仿真环境：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/catkin_ws/src/robot_mrobot/mrobot_gazebo/launch\nroslaunch mrobot_laser_nav_gazebo.launch\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("http://m.qpic.cn/psc?/V109Om5c34AY4g/6Q9GUvwNirBpvfZFfWE*4PWjlRrFZUEnQ2uEYiI9kuNvlvfeKYA9SELZFKcuh0II4Idk3jUBjYEXFI.xj0xxCA"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("/b"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("bo")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("UQHoAAAAAAADB5o"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("rf")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("viewer_4"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("t")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#### 安装gmapping功能包：")]),a._v("\n```bash\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" ros-kinetic-gmapping\n")])])]),t("h4",{attrs:{id:"配置gmapping节点："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置gmapping节点："}},[a._v("#")]),a._v(" 配置gmapping节点：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mbot_navigation/launch/gmapping.launch\n")])])]),t("h4",{attrs:{id:"启动gmapping："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动gmapping："}},[a._v("#")]),a._v(" 启动gmapping：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("roslaunch mbot_gazebo mbot_laser_nav_gazebo.launch\nroslaunch mbot_navigation gmapping_demo.launch\n")])])]),t("h4",{attrs:{id:"打开键盘控制节点："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打开键盘控制节点："}},[a._v("#")]),a._v(" 打开键盘控制节点：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" devel/setup.bash\nroslaunch mbot_teleop mbot_teleop.launch\n")])])]),t("h4",{attrs:{id:"控制小车的移动，观察到的画面如下："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#控制小车的移动，观察到的画面如下："}},[a._v("#")]),a._v(" 控制小车的移动，观察到的画面如下：")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://m.qpic.cn/psc?/V109Om5c34AY4g/6Q9GUvwNirBpvfZFfWE*4Bp2ECpguRbCTaFXVrOMLmXAikgJGTj9zdcMokb9ZOB9SwOow9tcYikZxFLingWJjQ!!/b&bo=oAHLAAAAAAADB0g!&rf=viewer_4&t=5",alt:""}})]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("roslaunch mbot_teleop mbot_teleop.launch\n")])])]),t("h4",{attrs:{id:"保存地图："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保存地图："}},[a._v("#")]),a._v(" 保存地图：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("rosrun map_server map_saver -f cloister_gmapping\n")])])]),t("p",[t("img",{attrs:{src:"http://m.qpic.cn/psc?/V109Om5c34AY4g/6Q9GUvwNirBpvfZFfWE*4PovwYQBRJA2xx7qVSIjNzLU.RkJiCjTOf86PktIiHUDmBocxWi2ptLgKXT43ZjHVg!!/b&bo=HAHfAAAAAAADB.A!&rf=viewer_4&t=5",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"三、仿真数据与效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、仿真数据与效果"}},[a._v("#")]),a._v(" 三、仿真数据与效果")]),a._v(" "),t("h3",{attrs:{id:"使用hector-slam功能包实现-slam-仿真："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用hector-slam功能包实现-slam-仿真："}},[a._v("#")]),a._v(" 使用hector_slam功能包实现 SLAM 仿真：")]),a._v(" "),t("h4",{attrs:{id:"（1）下载hector-slam："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#（1）下载hector-slam："}},[a._v("#")]),a._v(" （1）下载hector_slam：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" ros-kinetic-hector-slam\n")])])]),t("h4",{attrs:{id:"（2）配置hector-mapping节点："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#（2）配置hector-mapping节点："}},[a._v("#")]),a._v(" （2）配置hector_mapping节点：")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://m.qpic.cn/psc?/V109Om5c34AY4g/6Q9GUvwNirBpvfZFfWE*4Bca*tFHTfi62BPsZL1Z6avpjYFpCVPYS.2BLgkKJxK2Y.NOnQfwjWyLmUSmZzG*KA!!/b&bo=8wL.AQAAAAADByw!&rf=viewer_4&t=5",alt:""}})]),a._v(" "),t("h4",{attrs:{id:"（3）启动hector-slam演示："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#（3）启动hector-slam演示："}},[a._v("#")]),a._v(" （3）启动hector_slam演示：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" devel/setup.bash\nroslaunch mbot_gazebo mbot_laser_nav_gazebo.launch\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" devel/setup.bash\nroslaunch mbot_navigation hector_demo.launch\n")])])]),t("h3",{attrs:{id:"打开键盘控制节点：-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打开键盘控制节点：-2"}},[a._v("#")]),a._v(" 打开键盘控制节点：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" devel/setup.bash\nroslaunch mbot_teleop mbot_teleop.launch\n")])])]),t("h3",{attrs:{id:"保存地图：-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保存地图：-2"}},[a._v("#")]),a._v(" 保存地图：")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://m.qpic.cn/psc?/V109Om5c34AY4g/6Q9GUvwNirBpvfZFfWE*4MHeAJFPIGgKO.VulgoMHMxKiGEmnIe5I8Zz3WdO57gMa1BKrPweLK3C7JsPsMEYng!!/b&bo=eAOxAQAAAAADB.k!&rf=viewer_4&t=5",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"四、仿真结果分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、仿真结果分析"}},[a._v("#")]),a._v(" 四、仿真结果分析")]),a._v(" "),t("p",[a._v("在用gmapping中对比，激光雷达和Kinetic，激光雷达的仿真时无死角的360°可以观小车的动向，而Astar pro只能观察到60°左右的范围，而且用激光雷达的仿真比Astar pro的仿真数据更加精确。\n用hector_slam仿真时，当小车速度加快是，会出现打滑现象，因此，解决办法：降低小车的移动速度。\n基于move_base 和 amcl功能包的机器人自主导航仿真时，成功的对小车自己走且遇到障碍物，会绕行，缺点：移动速度太缓慢。")])])}),[],!1,null,null,null);s.default=e.exports}}]);